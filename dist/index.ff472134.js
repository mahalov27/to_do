let t={};const e=()=>{t.inProgress=t.toDo.filter((t=>"inProgress"===t.status)),localStorage.setItem("toDos",JSON.stringify(t))},a=t=>{localStorage.setItem("inset",JSON.stringify(t))},s=()=>{let e=[];const a=JSON.parse(localStorage.getItem("inset"));return"toDo"===a&&(e=t.toDo),"inProgress"===a&&(e=t.inProgress),"did"===a&&(e=t.did),"search"===a&&(e=t.search),e},n=t=>{const{action:e}=t.target.dataset;"delete-btn"===e&&i(t.target),"in-progress-btn"===e&&o(t.target),"complete-btn"===e&&c(t.target)},r=t=>{const e=t.closest(".js-list-item"),{id:a}=e.dataset;return a},i=a=>{const s=r(a);"did"!==JSON.parse(localStorage.getItem("inset"))?t.toDo=[...t.toDo.filter((t=>t.id!==s))]:t.did=[...t.did.filter((t=>t.id!==s))],localStorage.setItem("toDos",JSON.stringify(t)),b(),e(),u(!0)},o=a=>{const s=r(a);t.toDo.forEach((t=>{t.id===s&&(t.status="inProgress",a.closest(".list-item").classList.add("in-progress"),e())}))},c=a=>{const s=r(a);t.toDo.forEach((a=>{a.id===s&&(a.status="did",t.did.push(a),t.toDo=[...t.toDo.filter((t=>t.id!==s))],e(),u(!0))}))};const d=({id:t,date:e,title:a,description:s,status:n})=>`\n      <li class="list-item js-list-item ${"inProgress"===n?"in-progress":null}" data-id="${t}">\n         <div class="list-item-title">\n            <h2>${a}</h2>\n            <p>${e}</p>\n         </div>\n         <div class="list-item-description">\n            <p>${s}</p>\n         </div>\n         <div class="js-action-btns">\n            <button class="delete-btn" data-action="delete-btn">&#x2718</button>\n            <button class="in-progress-btn" data-action="in-progress-btn">&#10140</button>\n            <button class="complete-btn" data-action="complete-btn">&#x2714</button>\n         </div>\n      </li>\n   `,l=({id:t,title:e,description:a})=>`\n         <li class="list-item-did js-list-item" data-id="${t}">\n            <div class="list-item-did-text">\n               <div>\n                  <h2>${e}</h2>\n               </div>\n               <div class="list-item-did-discription">\n                  <p>${a}</p>\n               </div>\n            </div>\n            <div class="js-action-btns">\n               <button class="did-delete-btn" data-action="delete-btn">&#x2718</button>\n            </div>\n         </li>`,u=t=>{const e=document.querySelector(".toDo-list"),a=p().reduce(((t,e)=>"did"===JSON.parse(localStorage.getItem("inset"))?t+l(e):"did"!==JSON.parse(localStorage.getItem("inset"))?t+d(e):void 0),"");e.innerHTML=a,t&&v(),document.querySelectorAll(".js-action-btns").forEach((t=>t.addEventListener("click",n)))};var g={itemsPerPage:6,currentPage:1,getQuantity:function(){return s().length}};const m=document.querySelector(".pagination-items"),h=document.querySelector(".pagination"),v=()=>{const t=Math.ceil(g.getQuantity()/g.itemsPerPage);let e="";for(let s=1;s<=t;s+=1)e+=(a=s,`<li data-page="${a}" class="${a===g.currentPage?"activePage":null}">${a}</li>`);var a;m.innerHTML=e,t>0?h.classList.add("paginationActive"):h.classList.remove("paginationActive")},p=()=>s().filter(((t,e)=>e>=g.currentPage*g.itemsPerPage-g.itemsPerPage&&e<g.currentPage*g.itemsPerPage)),b=()=>{const t=document.querySelector(".pagination-items"),e=Math.ceil(g.getQuantity()/g.itemsPerPage);1!==g.currentPage&&t.children.length!==e&&t.children.length===g.currentPage&&(g.currentPage-=1)},S=t=>{if(t.preventDefault(),t.target===t.currentTarget)return;g.currentPage=Number(t.target.textContent);const e=document.querySelector(".activePage");e&&e.classList.remove("activePage"),t.target.classList.add("activePage"),u()},P=t=>{"next"===t.target.dataset.arrow&&g.currentPage<m.childNodes.length&&(g.currentPage+=1),"prev"===t.target.dataset.arrow&&g.currentPage>1&&(g.currentPage-=1),v(),u(!0)},D=t=>{const e={arrayId:[],min:1e12,max:9999999999999,id:1};t.toDo.forEach((t=>{e.arrayId.push(t.id)}));let a="",s="";do{const t=e.min-.5+Math.random()*(e.max-e.min+1);a=Math.floor(t).toString(),s=e.arrayId.includes(a)}while(s);return e.id=a,e.id};var f=()=>{const e=document.forms.itemCreateForm,a=e.elements.title,s=e.elements.description,n=document.querySelector(".toDo-list"),r=new Date,i={id:D(t),date:`${r.getDate()}.${r.getMonth()}.${r.getFullYear()}`,status:"noStatus",title:a.value,description:s.value};e.reset(),t.toDo.unshift(i);const o=JSON.parse(localStorage.getItem("toDos"));o.toDo.unshift(i),localStorage.setItem("toDos",JSON.stringify(o)),n.insertAdjacentHTML("afterbegin",d(i)),u(!0)};const y=document.querySelector(".js-form-toDo"),L=()=>{document.querySelector(".close")&&y.classList.remove("close"),y.classList.remove("hidden")},_=()=>{y.classList.add("hidden")};y.addEventListener("click",(t=>{if(t.preventDefault(),"BUTTON"===t.target.nodeName)return"cancel"===t.target.dataset.action?(y.classList.add("close"),void setTimeout(_,300)):void("add"===t.target.dataset.action&&(f(),y.classList.add("close"),setTimeout(_,300)))}));const j=document.querySelector(".tool_bar"),I=t=>{const{action:e}=t.dataset;"toDo"===e&&(j.innerHTML='<div class="tool_bar_item tool_bar_item-todo">\n            <button class="button_add js-button-add">add to do</button>\n            <div class="block_search">\n               <input type="text" class="input_search js-input-search" name="searchToDo" data-search="input-search-toDo" placeholder="search...">\n               <img src="./images/icon-search.png" alt="">\n            </div>\n         </div>'),"inProgress"===e&&(j.innerHTML='<div class="tool_bar_item tool_bar_item-inprogress">\n            <div class="block_search">\n               <input type="text" class="input_search js-input-search" name="searchIProgress" data-search="input-search-inProgress" placeholder="search...">\n               <img src="./images/icon-search.png" alt="">\n            </div>\n         </div>'),"did"===e&&(j.innerHTML='<div class="tool_bar_item tool_bar_item-inprogress">\n            <button class="button_add js-button-clear-all">clear all</button>\n         </div>'),_(),T()},q=()=>{t.did=[...t.did.filter((t=>"did"!==t.status))],u(!0)},N=e=>{localStorage.setItem("inset",JSON.stringify("search"));const{value:a}=e.target;"searchToDo"===e.target.name&&(t.search=[...t.toDo.filter((t=>t.title.toLowerCase().includes(a)))]),"searchIProgress"===e.target.name&&(t.search=[...t.inProgress.filter((t=>t.title.toLowerCase().includes(a)))]),u(),t.search=[]},T=()=>{const t=document.querySelector(".js-button-add"),e=document.querySelector(".js-button-clear-all"),a=document.querySelector(".js-input-search");t&&t.addEventListener("click",L),e&&e.addEventListener("click",q),a&&a.addEventListener("input",N)},$=document.querySelector(".nav"),E=t=>{t.preventDefault();const e=$.querySelector(".active");t.target!==t.currentTarget&&(e&&e.classList.remove("active"),t.target.classList.add("active"),J(t.target))},O=()=>{a($.children[0].dataset.action),j.innerHTML='<div class="tool_bar_item tool_bar_item-todo">\n            <button class="button_add js-button-add">add to do</button>\n            <div class="block_search">\n               <input type="text" class="input_search js-input-search" name="searchToDo" data-search="input-search-toDo" placeholder="search...">\n               <img src="./images/icon-search.png" alt="">\n            </div>\n         </div>',T(),u(!0)},J=t=>{a(t.dataset.action),g.currentPage=1,u(!0),I(t)};null===localStorage.getItem("toDos")&&localStorage.setItem("toDos",JSON.stringify({toDo:[],inProgress:[],did:[],search:[]})),t=JSON.parse(localStorage.getItem("toDos")),m.addEventListener("click",S),document.querySelectorAll(".js-arrow-btn").forEach((t=>t.addEventListener("click",P))),v(),O(),$.addEventListener("click",E);
//# sourceMappingURL=index.ff472134.js.map
